<!DOCTYPE html>
<html lang="en-US" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<title>How to setup an Angular 2 and TypeScript project with Visual Studio 2017</title>
		<link rel="shortcut icon" href="/wwwroot/favicon.ico" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="language" content="en" />
		<meta name="keywords" content="Angular,Angular2,Angular 2,ASP.NET Core,TypeScript" />
		<meta name="description" content="How to setup an Angular 2 and TypeScript project with Visual Studio 2017" />
		<meta name="author" content="Adrien Torris" />
		<meta name="robots" content="index,follow" />
		<meta name="generator" content="SiteUp! 0.1" />
		<link rel="alternate" href="https://adrientorris.github.io/aspnet-core/how-setup-angular-2-typescript-project-visual-studio-2017.html" hreflang="en-en" />
		<link href="/wwwroot/css/style.css" rel="stylesheet" />
	</head>
	<body>
		<div id="main_ctn" class="post_ctn">
			<header>
				<div id="header-content">
					<h2>Blog</h2>
				</div>
			</header>
			<div id="arianne_wrapper">
				<ul>
					<li><a href="https://adrientorris.github.io/index.html" title="">Home</a></li>
					<li>ASP.NET Core</li>
					<li class="active"><a href="https://adrientorris.github.io/aspnet-core/how-setup-angular-2-typescript-project-visual-studio-2017.html" title="How to setup an Angular 2 and TypeScript project with Visual Studio 2017">How to setup an Angular 2 and TypeScript project with Visual Studio 2017</a></li>
				</ul>
			</div>
			<div id="post_ctn">
				<h1>How to setup an Angular 2 and TypeScript project with Visual Studio 2017</h1>
				<p></p>
				<p>
				Versions :<ul><li>Angular : 2</li><li>TypeScript</li><li>Visual Studio : 2017 RC</li></ul>
				</p>
				<h2>Create new ASP.NET Core web application</h2>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/001.png" title="" />
				</div>
				<p>
	-> Choose an empty project to start from zero
	-> Choose no authentication
	-> Don't enable the docker container support (I will make a next tutorial on Docker)
				</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/002.png" title="" />
				</div>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/003.png" title="" />
				</div>
				<h2>Create the MVC folder structure</h2>
				<p>
	-> Controllers folder to put the controllers
	-> Views folder to put the cshtml files
	-> Models file tu put our models
	-> Some sub-folder in wwwroot
				</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/004.png" title="" />
				</div>
				<h2>Create a folder where put the typescript files</h2>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/005.png" title="" />
				</div>
				<h2>Add TypeScript compiler configuration file</h2>
				<!-- https://angular.io/docs/ts/latest/guide/typescript-configuration.html -->
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/006.png" title="" />
				</div>
				<p>You will have a file with this content :</p>
<pre><code class="json">
{
  "compilerOptions": {
    "noImplicitAny": false,
    "noEmitOnError": true,
    "removeComments": false,
    "sourceMap": true,
    "target": "es5"
  },
  "exclude": [
    "node_modules",
    "wwwroot"
  ]
}
</code></pre>
				<p>explain</p>
<pre><code class="json">
{
  "compilerOptions": {
    "target": "es5",
    "module": "commonjs",
    "moduleResolution": "node",
    "sourceMap": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "removeComments": false,
    "suppressImplicitAnyIndexErrors": true,
    "rootDir": "App",
    "outDir": "wwwroot/app"
  },
  "compileOnSave": true,
  "angularCompilerOptions": {
    "genDir": ".",
    "debug": true
  },
  "exclude": [
    "node_modules",
    "wwwroot"
  ]
}
</code></pre>
				<h2>Add a NPM configuration file</h2>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/007.png" title="" />
				</div>
<pre><code class="json">
{
  "version": "1.0.0",
  "name": "asp.net",
  "private": true,
  "devDependencies": {
  }
}
</code></pre>
<pre><code class="csharp">
{
  "version": "1.0.0",
  "description": "NO404 administration panel",
  "name": "no404 backoffice",
  "readme": "no404 backoffice",
  "license": "MIT",
  "dependencies": {
    "@angular/common": "~2.2.0",
    "@angular/compiler": "~2.2.0",
    "@angular/core": "~2.2.0",
    "@angular/forms": "~2.2.0",
    "@angular/http": "~2.2.0",
    "@angular/platform-browser": "~2.2.0",
    "@angular/platform-browser-dynamic": "~2.2.0",
    "@angular/router": "~3.2.0",
    "@angular/upgrade": "~2.2.0",

    "angular-in-memory-web-api": "~0.1.15",
    "core-js": "^2.4.1",
    "reflect-metadata": "^0.1.8",
    "rxjs": "5.0.0-beta.12",
    "systemjs": "0.19.39",
    "zone.js": "^0.6.25",

    "bower": "1.7.9",
    "jquery": "^3.1.0",
    "signalr": "^2.2.1"
  },
  "devDependencies": {
    "@types/core-js": "^0.9.34",
    "@types/node": "^6.0.45",
    "concurrently": "^2.2.0",
    "gulp": ">=3.9.1",
    "gulp-concat": ">=2.5.2",
    "gulp-copy": ">=0.0.2",
    "gulp-cssmin": ">=0.1.7",
    "gulp-load-plugins": "^1.3.0",
    "gulp-rename": ">=1.2.2",
    "gulp-rimraf": ">=0.2.0",
    "gulp-tsc": ">=1.2.0",
    "gulp-uglify": ">=1.2.0",
    "gulp-watch": ">=4.3.9",
    "jasmine-core": "2.4.1",
    "tslint": "^3.15.1",
    "typescript": "^2.0.0",
    "typings": "^1.3.2"
  },
  "scripts": {
    "start": "concurrently \"npm run gulp\" \"npm run watch\" \"npm run tsc:w\"",
    "postinstall": "typings install",
    "tsc": "tsc",
    "tsc:w": "tsc -w",
    "typings": "typings",
    "gulp": "gulp",
    "watch": "gulp watch",
    "ngc": "ngc"
  }
}
</code></pre>
				<p>If you open your web application in the folder explorer, you can now see a node_modules folder with some external dependencies in there :</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/008.png" title="" />
				</div>
				<h2>Add Gulp</h2>
				<p>Add gulp.config.js</p>
<pre><code class="javascript">
module.exports = function () {

    var base = {
        webroot: "./wwwroot/",
        node_modules: "./node_modules/"
    };

    var config = {
        /**
         * Files paths
         */
        angular: base.node_modules + "@angular/**/*.js",
        app: "App/**/*.*",
        appDest: base.webroot + "app",
        js: base.webroot + "js/**/*.js",
        css: base.webroot + "css/**/*.css",
        lib: base.webroot + "lib/",
        node_modules: base.node_modules,
        angularWebApi: base.node_modules + "angular2-in-memory-web-api/*.js",
        corejs: base.node_modules + "core-js/client/shim*.js",
        zonejs: base.node_modules + "zone.js/dist/zone*.js",
        reflectjs: base.node_modules + "reflect-metadata/Reflect*.js",
        systemjs: base.node_modules + "systemjs/dist/*.js",
        rxjs: base.node_modules + "rxjs/**/*.js",
        jasminejs: base.node_modules + "jasmine-core/lib/jasmine-core/*.*"
    };

    return config;
};
</code></pre>
				<p>Add the gulp configuration file</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/009.png" title="" />
				</div>
<pre><code class="javascript">
/*
This file is the main entry point for defining Gulp tasks and using Gulp plugins.
Click here to learn more. https://go.microsoft.com/fwlink/?LinkId=518007
*/

var gulp = require('gulp');

gulp.task('default', function () {
    // place code for your default task here
});
</code></pre>
<pre><code class="javascript">
/// <binding Clean='clean' />
"use strict";

var gulp = require("gulp");
var config = require('./gulp.config')();
var $ = require('gulp-load-plugins')({ lazy: true });

gulp.task("clean:js", function (cb) {
    return $.rimraf(config.concatJsDest, cb);
});

gulp.task("clean:css", function (cb) {
    $.rimraf(config.concatCssDest, cb);
});

gulp.task("clean", ["clean:js", "clean:css"]);

gulp.task("copy:angular", function () {

    return gulp.src(config.angular,
        { base: config.node_modules + "@angular/" })
        .pipe(gulp.dest(config.lib + "@angular/"));
});

gulp.task("copy:angularWebApi", function () {
    return gulp.src(config.angularWebApi,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:corejs", function () {
    return gulp.src(config.corejs,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:zonejs", function () {
    return gulp.src(config.zonejs,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:reflectjs", function () {
    return gulp.src(config.reflectjs,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:systemjs", function () {
    return gulp.src(config.systemjs,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:rxjs", function () {
    return gulp.src(config.rxjs,
        { base: config.node_modules })
        .pipe(gulp.dest(config.lib));
});

gulp.task("copy:app", function () {
    return gulp.src(config.app)
        .pipe(gulp.dest(config.appDest));
});

gulp.task("copy:jasmine", function () {
    return gulp.src(config.jasminejs,
        { base: config.node_modules + "jasmine-core/lib" })
        .pipe(gulp.dest(config.lib));
});

gulp.task("dependencies", ["copy:angular",
    "copy:angularWebApi",
    "copy:corejs",
    "copy:zonejs",
    "copy:reflectjs",
    "copy:systemjs",
    "copy:rxjs",
    "copy:jasmine",
    "copy:app"]);

gulp.task("watch", function () {
    return $.watch(config.app)
        .pipe(gulp.dest(config.appDest));
});

gulp.task("default", ["clean", "dependencies"]);
</code></pre>
				<p>You can see now a task "default" in the task explorator</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/010.png" title="" />
				</div>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/011.png" title="" />
				</div>
				<p>You can see that the dependencies has been added in the lib folder.</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/012.png" title="" />
				</div>
				<h2>Add TypeScript declarations file</h2>
				<!-- https://angular.io/docs/ts/latest/guide/typescript-configuration.html -->
				<p>Add typings.json file</p>
<pre><code class="json">
{
  "globalDependencies": {
    "jquery": "registry:dt/jquery",
    "jasmine": "registry:dt/jasmine"
  }
}
</code></pre>
				<h2>Add Bower</h2>
				<p>Add bower to add jquery and boostrap dependencies</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/013.png" title="" />
				</div>
				<h2>Create TypeScript app files</h2>
				<p>Create the main file to bootstrap your application</p>
<pre><code class="javascript">
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import { AppModule } from './app.module';

const platform = platformBrowserDynamic();

platform.bootstrapModule(AppModule);
</code></pre>
				<p>Add app.module.ts</p>
<pre><code class="javascript">
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpModule } from '@angular/http';

import { AppComponent } from './app.component';
import { HomeComponent } from './home/home.component';
import { AppRoutingModule } from './app-routing.module';

@NgModule({
    imports: [
        BrowserModule,
        HttpModule,
        AppRoutingModule
    ],
    declarations: [
        AppComponent,
        HomeComponent
    ],
    bootstrap: [AppComponent],
    providers: [
    ]
})
export class AppModule { }
</code></pre>
				<p>Add app.component.ts</p>
<pre><code class="javascript">
import { Component, OnInit } from '@angular/core';

@Component({
    selector: 'no404-bo-app',
    template: `
        <div class="container">
            <nav>
                <a routerLink="home" routerLinkActive="active">Home</a>
            </nav>
            <router-outlet></router-outlet>
        </div>
    `,
    providers: []
})
export class AppComponent implements OnInit {

    constructor() {
        console.log('AppComponent -> constructor');
    }

    ngOnInit() {
        console.log('AppComponent -> ngOnInit');
    }
}
</code></pre>
				<p>Create the routing module (app-routing.module.ts)</p>
<pre><code class="javascript">
import { NgModule } from '@angular/core';
import { Routes, RouterModule } from '@angular/router';
import { HomeComponent } from './home/home.component';

export const routes: Routes = [
    { path: '', redirectTo: 'home', pathMatch: 'full' },
    { path: 'home', component: HomeComponent }
];

@NgModule({
    imports: [RouterModule.forRoot(routes)],
    exports: [RouterModule]
})
export class AppRoutingModule { }
</code></pre>
				<p>And add the home component</p>
<pre><code class="javascript">
import { Component, OnInit } from '@angular/core';

@Component({
    selector: 'home',
    template: `
        <h1>Home</h1>
        <p>Hello you !</p>
    `
})
export class HomeComponent implements OnInit {
    
    constructor() {
        console.log('HomeComponent -> constructor');

    }

    ngOnInit() {
        console.log('HomeComponent -> ngOnInit');
        
    }
}
</code></pre>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/014.png" title="" />
				</div>
				<p>If you build your solution, you can see that your outpout app folder has been populated with some javascript files generated by your TypeScript files.</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/015.png" title="" />
				</div>
				<p>If you launch your website, you will have something like this :</p>
				<div class="pic_wrapper">
					<img src="/wwwroot/images/aspnet-core/016.png" title="" />
				</div>
				<p>No trace in the console and not the content in our typescript templates. Why ? Cause we have to tell our website startup that we want to load our typescript application.</p>
				<h2>Configure your web app to dispay your angular application</h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<h2></h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<h2></h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<h2></h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<h2></h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<h2></h2>
				<p></p>
<pre><code class="csharp">
</code></pre>
				<div id="crdny">February 11, 2017</div>
				<div id="tags_wrapper">
					<ul>
						<li>ASP.NET Core</li>
						<li>Angular</li>
						<li>Angular2</li>
						<li>TypeScript</li>
					</ul>
				</div>
				<div id="refs_wrapper">
				</div>
            </div>
			<footer>
			</footer>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
		<script src="/wwwroot/js/Infra.js" type="text/javascript"></script>
		<link type="text/css" rel="stylesheet" href="/wwwroot/lib/highlight/styles/vs.css" />
		<script type="text/javascript" src="/wwwroot/lib/highlight/highlight.pack.js"></script>
		<script type="text/javascript">hljs.initHighlightingOnLoad();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85948839-1', 'auto');
  ga('send', 'pageview');

</script>
	</body>
</html>