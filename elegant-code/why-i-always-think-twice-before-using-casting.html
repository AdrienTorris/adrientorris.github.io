<!DOCTYPE html>
<html lang="en-US" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<title>Why I always think twice before using casting</title>
		<link rel="shortcut icon" href="/wwwroot/favicon.ico" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="language" content="en" />
		<meta name="keywords" content="Software programming,Architecture,Software architecture,Elegant code,programming,elegant programming,software development" />
		<meta name="description" content="Why I always think twice before using casting" />
		<meta name="author" content="Adrien Torris" />
		<meta name="robots" content="index,follow" />
		<meta name="generator" content="No404! 0.1" />
		<!--<link rel="alternate" href="https://adrientorris.github.io/elegant-code/why-i-always-think-twice-before-using-casting.html" hreflang="en-en" />-->
		<link href="/wwwroot/css/style.css" rel="stylesheet" />
		<script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
	</head>
	<body>
		<div id="main_ctn" class="post_ctn">
			<header>
				<div id="header-content">
					<h2>Blog</h2><ul id="social_links">
						<li id="twitter_link">
							<a href="https://twitter.com/AdrienTorris" target="_Blank" rel="nofollow" title="Adrien Torris sur Twitter">
								<i class="fab fa-twitter fa-2x"></i>
							</a>
						</li>
						<li id="github_link" title="Adrien Torris sur GitHub">
							<a href="https://github.com/AdrienTorris" target="_Blank" rel="nofollow">
								<i class="fab fa-github fa-2x"></i>
							</a>
						</li>
						<li id="so_link">
							<a href="https://stackoverflow.com/users/story/4428633" target="_Blank" rel="nofollow" title="Adrien Torris sur StackOverflow">
								<i class="fab fa-stack-overflow fa-2x"></i>
							</a>
						</li>
						<li id="linkedin_link">
							<a href="https://www.linkedin.com/in/adrientorris/" target="_Blank" rel="nofollow" title="Adrien Torris sur LinkedIn">
								<i class="fab fa-linkedin fa-2x"></i>
							</a>
						</li>
						<li id="gplus_link">
							<a href="https://plus.google.com/u/0/+AdrienTorris" target="_Blank" rel="nofollow" title="Adrien Torris sur Google Plus">
								<i class="fab fa-google-plus-g fa-2x"></i>
							</a>
						</li>
					</ul>
				</div>
			</header>
			<div id="arianne_wrapper">
				<ul>
					<li><a href="https://adrientorris.github.io/index.html" title="">Home</a></li>
					<li>elegant code</li>
					<li class="active"><a href="https://adrientorris.github.io/elegant-code/why-i-always-think-twice-before-using-casting.html" title="Why you should avoid casting as much as you can">Why I always think twice before using casting</a></li>
				</ul>
			</div>
			<div id="post_ctn">
            </div>
			<div id="post_ctn">
				<h1>Why I always think twice before using casting</h1>
				<p>Casting is not inherently bad, it can be usefull sometimes and it's an operation the developer has to know about, but in the most if the cases, <span class="thnclwrd">casting</span> is misused and means one of this two bad situation :</p>
				<ul>
					<li>I have special knowledge about the code I'm writing that the compiler doesn't have, so I'm giving a hint to the compiler about reality<br /><blockquote>"hey compiler! this thing of type User is actually of type Customer"</blockquote></i>
					<li>I need to perform a mapping from a type to another<br /><blockquote>"hey compiler! this information is a double but I need that corresponds to a int"</blockquote></li>
				</ul>
				<p>Both of this cases are yellow/orange flags, and need the developer pays more attention to it.</p>
				<p>In the first case, the developer has to ask himslef : <span class="blockquote">"Why I have information about the code the compiler doesn't have ?"</span>. It means that the compiler doesn't really handle the reality, maybe it is better to change the code to fix that.</p>
				<p>In the second case, the developer has to ask himslef : <span class="blockquote">"Why I have to do this ? Why I get a thing in a type whereas I need it in another one ?"</span></p>
				<p>Personaly, I avoid casting as much as I can because in the majority of cases, casting is at least one of this bad thing :</p>
				<p class="ttl">1) A non-sense</p>
				<p>Just think about it. When you ask to the runtime to cast an object into another one, you tell him : <span class="blockquote">"Hi! Take this thing and turn it into this other thing, for some reasons I don't explain"</span>.</p>
				<p class="ttl">2) A leak of knowledge</p>
				<p>If a developer casts an object into another one, there must be some reason to perform this operation but with a simple cast, this reason is lost. The result is a code hard to understand and hard to maintain.</p>
				<p class="ttl">3) A symptom of a bad design</p>
				<p>If when you get something, you need another thing, it's probably the sign of a perfectible design who can be improved. In this situation, you can be two totally different developers :</p>
				<ul>
					<li>The lazy one; <span class="blockquote">"Hum ... I don't care, just let's cast this"</span></li>
					<li>The curious one; <span class="blockquote">"Why this situation happens in the first place ? Is there an incomprehension somewhere ? What can I do ?"</span></li>
				</ul>
				<br /><p>If <span class="thnclwrd">casting</span> have to be used with precaution and a good understanting of what it is and what the situation is, it's clearly not consistently a bad thing. If they were, the languages would not support it and they are. Like any other language feature, it has its utility and its reason to exist. It's just preferable to think twice before using it.</p>
				<div id="crdny">March 8, 2017</div>
				<div id="tags_wrapper">
					<ul>
						<li>Casting</li>
						<li>Software Design</li>
					</ul>
				</div>
				<div id="refs_wrapper">
					<ul>
						<li><a href="https://msdn.microsoft.com/en-us/library/ms173105(v=VS.100).aspx" title="" target="_Blank">Casting and Type Conversions - MSDN</a></li>
						<!--<li><a href="" title="" target="_Blank"></a></li>-->
					</ul>
				</div>
            </div>
			<footer>
			</footer>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
		<script src="/wwwroot/js/Infra.js" type="text/javascript"></script>
		<!--<link type="text/css" rel="stylesheet" href="/wwwroot/lib/highlight/styles/vs.css" />
		<script type="text/javascript" src="/wwwroot/lib/highlight/highlight.pack.js"></script>
		<script type="text/javascript">hljs.initHighlightingOnLoad();</script>-->
		<!--
Casting is not inherently bad, there is usefull sometimes and it's an operation the developer has to know about his existence but in the most if the cases, casting is used for one of this two bad things :

    - I have special knowledge about the code I'm writing that the compiler doesn't have, so I'm giving a hint to the compiler about reality
<blockquote>"hey compiler! this thing of type User is actually of type Customer"</blockquote>

    - I need to perform a mapping from a type to another
<blockquote>"hey compiler! this information is a double but I need that corresponds to a int"</blockquote>

Both of this cases are yellow/orange flags, and need more attention by the developer. 
In the first case, the developer has to ask himslef : "Why I have information about the code the compiler doesn't have ?". It means that the compiler doesn't really handle the reality, maybe it is better to change the code to fix that.
In the second case, the developer has to ask himslef : "Why I have to do this ? Why I get a thing in a type whereas I need it in another one ?"

Personaly, I avoid casting as much as I can because in the majority of cases, casting is at least one of this bad thing :

1) A non-sense

Just think about it. When you ask to the runtime to to cast an object into another one, you tell him : "Hi! Take this thing and turn it into this other thing, for some reasons I don't explain".

2) A leak of knowledge

If a developer casts an object into another one, there must be some reason to perform this operation but with a simple cast, this reason is lost. The result is a code hard to understand and hard to maintain.

3) A bad design

If when you get something, you need another thing, it probably the sign of a perfectible design who can be improved. In this situation, you can be two totally diferent developers :
   - The lazy one => "Hum ... let's cast this"
   - The curious one => "Why this situation happens in the first place ? Is there an incomprehension somewhere ? What can I do ?"

If casting have to be used with precaution and a good understanting of what it is and what the situation is, it's clearny not consistently a bad thing, if it is languages would not support it and there are. Like any other language feature, it has its utility and its reason to exists. But for my part, I always think twice before using it.
		-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85948839-1', 'auto');
  ga('send', 'pageview');

</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F924P8Y6HC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-F924P8Y6HC');
</script>
	</body>
</html>